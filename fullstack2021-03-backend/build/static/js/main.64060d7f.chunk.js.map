{"version":3,"sources":["components/Person.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["PersonForm","addPerson","handleValueChange","handleNumChange","newName","newNum","onSubmit","onChange","value","type","Numbers","person","filter","handleDelete","name","toLowerCase","startsWith","number","onClick","Filter","props","baseUrl","exportedObjs","getAll","axios","get","then","response","data","create","newObject","post","remove","id","delete","update","put","Notification","msg","error","msgStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","textAlign","style","App","useState","persons","setPersons","setNewName","setNewNum","setFilter","setMsg","setError","useEffect","personsService","handleDeleteClick","window","confirm","copy","setTimeout","removePerson","event","target","preventDefault","checkName","length","updatedPerson","init","map","catch","e","personObject","initPerson","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.64060d7f.chunk.js","sourcesContent":["import React from \"react\";\n\nconst PersonForm = ({\n  addPerson,\n  handleValueChange,\n  handleNumChange,\n  newName,\n  newNum,\n}) => {\n  return (\n    <div>\n      <form onSubmit={addPerson}>\n        <div>\n          name: <input onChange={handleValueChange} value={newName} />\n        </div>\n        <div>\n          number: <input onChange={handleNumChange} value={newNum} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nconst Numbers = ({ person, filter, handleDelete }) => {\n  if (!person.name.toLowerCase().startsWith(filter.toLowerCase())) {\n    return null;\n  }\n  return (\n    <div>\n      <p key={person.name}>\n        {person.name} {person.number}{\" \"}\n        <button key={person.name} onClick={handleDelete}>\n          Delete\n        </button>\n      </p>\n    </div>\n  );\n};\n\nconst Filter = (props) => {\n  return (\n    <div>\n      filter: <input onChange={props.onChange} />\n    </div>\n  );\n};\n\nexport { PersonForm, Filter, Numbers };\n","import axios from \"axios\";\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then((response) => response.data);\n};\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then((response) => response.data);\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then((response) => response.data);\n};\nconst exportedObjs = {\n  getAll,\n  create,\n  remove,\n  update,\n};\n\nexport default exportedObjs;\n","import React from \"react\";\n\nconst Notification = ({ msg, error }) => {\n  let msgStyle = {\n    color: \"green\",\n    background: \"rgb(236, 255, 216)\",\n    fontSize: 20,\n    borderStyle: \"solid\",\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10,\n    textAlign: \"center\",\n  };\n\n  if (msg === null && error === null) {\n    return null;\n  }\n  if (error !== null) {\n    msgStyle = { ...msgStyle, color: \"red\", background: \"rgb(255, 249, 242)\" };\n    return <div style={msgStyle}>{error}</div>;\n  }\n\n  return <div style={msgStyle}>{msg}</div>;\n};\n\nexport default Notification;\n","import React, { useEffect, useState } from \"react\";\nimport { PersonForm, Numbers, Filter } from \"./components/Person\";\nimport personsService from \"./services/persons\";\nimport Notification from \"./components/Notification\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNum, setNewNum] = useState(\"\");\n  const [filter, setFilter] = useState(\"\");\n  const [msg, setMsg] = useState(null);\n  const [error, setError] = useState(null);\n\n  const hook = () => {\n    personsService.getAll().then((persons) => {\n      setPersons(persons);\n    });\n  };\n  useEffect(hook, []);\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    // Check if person already in phonebook\n    const checkName = persons.filter((person) => person.name === newName);\n    if (checkName.length !== 0) {\n      if (\n        window.confirm(\n          `${newName} is already added to phonebook. Want to replace the old number?`\n        )\n      ) {\n        const id = checkName[0].id;\n        const updatedPerson = { ...checkName[0], number: newNum };\n        personsService\n          .update(id, updatedPerson)\n          .then((init) => {\n            setPersons(\n              persons.map((person) => (person.id !== id ? person : init))\n            );\n            setMsg(`Number of ${updatedPerson.name} edited`);\n\n            setTimeout(() => {\n              setMsg(null);\n            }, 5000);\n          })\n          .catch((e) => {\n            setError(\n              `Information of ${checkName[0].name} has already been removed from server`\n            );\n\n            setTimeout(() => {\n              setError(null);\n            }, 5000);\n          });\n      }\n    } else {\n      const personObject = {\n        name: newName,\n        number: newNum,\n      };\n\n      // Add to database\n      personsService\n        .create(personObject)\n        .then((initPerson) => {\n          setPersons(persons.concat(initPerson));\n          setNewName(\"\");\n          setNewNum(\"\");\n          setMsg(`Added ${personObject.name}`);\n\n          setTimeout(() => {\n            setMsg(null);\n          }, 5000);\n        })\n        .catch((error) => {\n          setError(error.response.data.error);\n          setTimeout(() => {\n            setError(null);\n          }, 5000);\n        });\n    }\n  };\n\n  const removePerson = (id, name) => {\n    if (window.confirm(`Do you really want to remove ${name}`)) {\n      personsService.remove(id);\n\n      const copy = persons.filter((person) => person.id !== id);\n      setPersons(copy);\n      setMsg(`Removed ${name}`);\n\n      setTimeout(() => {\n        setMsg(null);\n      }, 5000);\n    }\n  };\n\n  const handleValueChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumChange = (event) => {\n    setNewNum(event.target.value);\n  };\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value);\n  };\n\n  const handleDeleteClick = (person) => {\n    removePerson(person.id, person.name);\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification msg={msg} error={error} />\n      <Filter onChange={handleFilterChange} />\n      <h2>Add a new</h2>\n      <PersonForm\n        addPerson={addPerson}\n        handleValueChange={handleValueChange}\n        handleNumChange={handleNumChange}\n        newName={newName}\n        newNum={newNum}\n      />\n      <h2>Numbers</h2>\n      {persons.map((person) => (\n        <Numbers\n          key={person.name}\n          person={person}\n          persons={persons}\n          filter={filter}\n          handleDelete={() => handleDeleteClick(person)}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}